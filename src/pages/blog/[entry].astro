---
import BlogArticle from '@/screens/blog/Article.astro'
import BlogLayout from '@/layouts/Blog.astro'

import { loadArticles, type Article } from '@/api/articles'

export interface Props {
  article: Article
}

export async function getStaticPaths() {
  const articlesRaw = await loadArticles()

  return articlesRaw.map((article) => ({
    params: { entry: article.slug },
    props: { article }
  }))
}

const { article } = Astro.props
---

<BlogLayout title={article.frontmatter.title}>
  <BlogArticle article={article}/>
</BlogLayout>
