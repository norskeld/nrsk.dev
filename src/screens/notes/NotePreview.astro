---
import { tw } from '@nrsk/tw'

import type { NoteEntry } from '@/api/content'
import { toTags } from '@/api/frontmatter'

import Card from '@/components/Card.astro'
import Tags from '@/components/Tags.astro'

export interface Props {
  item: NoteEntry
}

const { slug, data } = Astro.props.item

const tags = toTags(data.tags ?? [])

const headingClasses = tw`
  mb-4 w-full
  text-lg font-semibold tracking-tight leading-tight line-clamp-3
  text-gray-900 dark:text-gray-100
`

const footerClasses = tw`
  text-gray-500 dark:text-gray-400
`

const footerTagsClasses = tw`
  flex flex-wrap w-full
  [&_span]:hover:no-underline
`
---

<Card tag="a" to={'/notes/' + slug} justify>
  <h3 slot="header" class={headingClasses}>
    {data.title}
  </h3>

  <p slot="footer" class={footerClasses}>
    <Tags class={footerTagsClasses} items={tags} />
  </p>
</Card>
