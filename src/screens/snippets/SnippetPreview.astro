---
import { tw } from '@nrsk/tw'

import type { SnippetEntry } from '@/api/content/snippets'
import { toTags } from '@/api/frontmatter'

import Card from '@/components/Card.astro'
import Tags from '@/components/Tags.astro'

export interface Props {
  item: SnippetEntry
}

const { slug, frontmatter } = Astro.props.item

const tags = toTags(frontmatter.tags ?? [])

const headingClasses = tw`
  mb-4 w-full
  text-lg font-semibold tracking-tight leading-tight line-clamp-3
  text-gray-900 dark:text-gray-100
`

const footerClasses = tw`
  text-gray-500 dark:text-gray-400
`
---

<Card tag="a" to={'/snippets/' + slug} justify>
  <h3 slot="header" class={headingClasses}>
    {frontmatter.title}
  </h3>

  <p slot="footer" class={footerClasses}>
    <Tags items={tags} />
  </p>
</Card>
